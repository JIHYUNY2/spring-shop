{
  "version": 3,
  "sources": ["../../src/api.ts", "../../src/ui.ts", "../../src/main.ts"],
  "sourcesContent": ["// API \uD638\uCD9C \uB798\uD37C (\uC2A4\uD504\uB9C1 \uC751\uB2F5 \uADDC\uACA9 {success, data, error} \uCC98\uB9AC)\n\nexport type Product = {\n  id: number;\n  name: string;\n  price: number;\n  description?: string;\n  createdAt: string;\n  updatedAt?: string;\n};\n\ntype Page<T> = {\n  content: T[];\n  number: number;\n  size: number;\n  totalElements: number;\n  totalPages: number;\n};\n\ntype ApiResponse<T> = {\n  success: boolean;\n  data: T;\n  error?: { code: string; message: string };\n};\n\nconst BASE_URL = 'http://localhost:8080';\n\nasync function request<T>(path: string, init?: RequestInit): Promise<T> {\n  const res = await fetch(`${BASE_URL}${path}`, {\n    headers: { 'Content-Type': 'application/json', ...(init?.headers || {}) },\n    ...init,\n  });\n  // \uC2A4\uD504\uB9C1\uC740 4xx/5xx\uC5D0\uB3C4 JSON \uBC14\uB514\uB97C \uC8FC\uBBC0\uB85C \uC6B0\uC120 \uD30C\uC2F1 \uC2DC\uB3C4\n  const body = await res.json().catch(() => ({}));\n  if (!res.ok || body?.success === false) {\n    const msg =\n      body?.error?.message ||\n      body?.message ||\n      `${res.status} ${res.statusText}`;\n    throw new Error(msg);\n  }\n  return (body as ApiResponse<T>).data;\n}\n\n// API\uB4E4\nexport const ProductApi = {\n  list: (page = 0, size = 10, sort = 'id,desc') =>\n    request<Page<Product>>(`/api/v1/products?page=${page}&size=${size}&sort=${encodeURIComponent(sort)}`),\n\n  create: (p: Pick<Product, 'name' | 'price' | 'description'>) =>\n    request<Product>('/api/v1/products', {\n      method: 'POST',\n      body: JSON.stringify(p),\n    }),\n\n  update: (id: number, patch: Partial<Pick<Product, 'name' | 'price' | 'description'>>) =>\n    request<Product>(`/api/v1/products/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(patch),\n    }),\n\n  remove: (id: number) =>\n    fetch(`${BASE_URL}/api/v1/products/${id}`, { method: 'DELETE' }).then((r) => {\n      if (!r.ok && r.status !== 204) throw new Error(`${r.status} ${r.statusText}`);\n    }),\n};", "export const $ = (sel: string, root: ParentNode | Document = document) =>\n  root.querySelector(sel) as HTMLElement;\n\nexport function el<K extends keyof HTMLElementTagNameMap>(\n  tag: K,\n  attrs: Record<string, any> = {},\n  ...children: (Node | string | null | undefined)[]\n) {\n  const node = document.createElement(tag);\n  Object.entries(attrs).forEach(([k, v]) => {\n    if (v === undefined || v === null) return;\n    if (k === 'class') node.className = v;\n    else if (k.startsWith('on') && typeof v === 'function') node.addEventListener(k.slice(2).toLowerCase(), v);\n    else node.setAttribute(k, String(v));\n  });\n  for (const c of children) {\n    if (c === null || c === undefined) continue;\n    node.append(c instanceof Node ? c : document.createTextNode(c));\n  }\n  return node;\n}", "import { ProductApi, Product } from './api';\nimport { $, el } from './ui';\n\n/** ================== Theme Toggle ================== */\nconst themeBtn = $('#themeToggle') as HTMLButtonElement;\n\ntype Theme = 'light' | 'dark';\nfunction applyTheme(t: Theme) {\n  document.documentElement.setAttribute('data-theme', t);\n  // \uBC84\uD2BC \uB77C\uBCA8/\uC544\uC774\uCF58 \uC804\uD658\n  if (themeBtn) themeBtn.textContent = t === 'light' ? '\uD83C\uDF19 \uB2E4\uD06C' : '\u2600\uFE0E \uB77C\uC774\uD2B8';\n  localStorage.setItem('theme', t);\n}\n(function initTheme() {\n  const saved = (localStorage.getItem('theme') as Theme) || 'dark';\n  applyTheme(saved);\n  themeBtn?.addEventListener('click', () => {\n    const next: Theme = (document.documentElement.getAttribute('data-theme') === 'light') ? 'dark' : 'light';\n    applyTheme(next);\n  });\n})();\n\n/** ================== Products UI ================== */\n\n// \uC694\uC18C \uCE90\uC2DC\nconst createForm = $('#createForm') as HTMLFormElement;\nconst nameInput = $('#name') as HTMLInputElement;\nconst priceInput = $('#price') as HTMLInputElement;\nconst descInput = $('#description') as HTMLTextAreaElement;\nconst createMsg = $('#createMsg');\n\nconst pageInput = $('#page') as HTMLInputElement;\nconst sizeInput = $('#size') as HTMLInputElement;\nconst sortSelect = $('#sort') as HTMLSelectElement;\nconst refreshBtn = $('#refreshBtn') as HTMLButtonElement;\n\nconst listBody = $('#listBody') as HTMLTableSectionElement;\nconst pageInfo = $('#pageInfo');\nconst prevBtn = $('#prevBtn') as HTMLButtonElement;\nconst nextBtn = $('#nextBtn') as HTMLButtonElement;\nconst listMsg = $('#listMsg');\n\nlet page = 0;\nlet size = 10;\nlet sort = 'id,desc';\n\nasync function load() {\n  try {\n    listMsg!.textContent = '';\n    const data = await ProductApi.list(page, size, sort);\n    renderList(data);\n  } catch (e: any) {\n    listMsg!.innerHTML = `<span class=\"bad\">\uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328: ${e.message}</span>`;\n  }\n}\n\nfunction renderList(p: { content: Product[]; number: number; size: number; totalElements: number; totalPages: number; }) {\n  listBody.innerHTML = '';\n  for (const item of p.content) {\n    const tr = el('tr', {},\n      el('td', {}, String(item.id)),\n      el('td', {}, item.name),\n      el('td', {}, item.price.toLocaleString()),\n      el('td', {}, item.description ?? ''),\n      el('td', {}, el('div', { class: 'actions' },\n        el('button', { class: 'btn btn-outline', onClick: () => onEdit(item) }, '\uC218\uC815'),\n        el('button', { class: 'btn btn-danger', onClick: () => onDelete(item.id) }, '\uC0AD\uC81C')\n      ))\n    );\n    listBody.appendChild(tr);\n  }\n  pageInfo!.textContent = `\uD398\uC774\uC9C0 ${p.number + 1} / ${Math.max(1, p.totalPages)} \u00B7 \uCD1D ${p.totalElements}\uAC1C`;\n  prevBtn.disabled = p.number <= 0;\n  nextBtn.disabled = p.number + 1 >= p.totalPages;\n}\n\nasync function onCreate(ev: SubmitEvent) {\n  ev.preventDefault();\n  try {\n    createMsg!.textContent = '';\n    const p = await ProductApi.create({\n      name: nameInput.value.trim(),\n      price: Number(priceInput.value),\n      description: descInput.value.trim(),\n    });\n    createMsg!.innerHTML = `<span class=\"good\">\uB4F1\uB85D \uC644\uB8CC: #${p.id}</span>`;\n    createForm.reset();\n    await load();\n  } catch (e: any) {\n    createMsg!.innerHTML = `<span class=\"bad\">\uB4F1\uB85D \uC2E4\uD328: ${e.message}</span>`;\n  }\n}\n\nfunction onEdit(item: Product) {\n  const nextName = prompt('\uC774\uB984 \uC218\uC815 (\uC5D4\uD130=\uC720\uC9C0)', item.name) ?? item.name;\n  const nextPriceStr = prompt('\uAC00\uACA9 \uC218\uC815 (\uC5D4\uD130=\uC720\uC9C0)', String(item.price)) ?? String(item.price);\n  const nextDesc = prompt('\uC124\uBA85 \uC218\uC815 (\uC5D4\uD130=\uC720\uC9C0)', item.description ?? '') ?? (item.description ?? '');\n  const patch: any = {};\n  if (nextName !== item.name) patch.name = nextName.trim();\n  if (Number(nextPriceStr) !== item.price) patch.price = Number(nextPriceStr);\n  if (nextDesc !== (item.description ?? '')) patch.description = nextDesc.trim();\n  if (Object.keys(patch).length === 0) return;\n  ProductApi.update(item.id, patch)\n    .then(() => load())\n    .catch((e) => alert('\uC218\uC815 \uC2E4\uD328: ' + e.message));\n}\n\nfunction onDelete(id: number) {\n  if (!confirm(`#${id} \uC0AD\uC81C\uD560\uAE4C\uC694?`)) return;\n  ProductApi.remove(id)\n    .then(() => load())\n    .catch((e) => alert('\uC0AD\uC81C \uC2E4\uD328: ' + e.message));\n}\n\n// \uC774\uBCA4\uD2B8 \uBC14\uC778\uB529\ncreateForm.addEventListener('submit', onCreate);\nrefreshBtn.addEventListener('click', () => {\n  page = Number(pageInput.value) || 0;\n  size = Number(sizeInput.value) || 10;\n  sort = sortSelect.value || 'id,desc';\n  load();\n});\nprevBtn.addEventListener('click', () => { if (page > 0) { page--; pageInput.value = String(page); load(); } });\nnextBtn.addEventListener('click', () => { page++; pageInput.value = String(page); load(); });\n\nload();"],
  "mappings": "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",
  "names": ["page", "size", "sort"]
}
